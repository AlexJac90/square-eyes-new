<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Square Eyes</title>
    <link rel="stylesheet" href="index.css">
    <script>
        // Apply theme immediately to prevent flash
        (function() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'light') {
                document.documentElement.setAttribute('data-theme', 'light');
            }
        })();
    </script>
</head>
<body>
    <header>
        <div class="header-content">
            <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <a href="index.html" class="logo-link">
                <img src="logo.png" alt="Square Eyes" class="logo-image">
            </a>
            <nav class="header-nav">
                <div class="nav-item-dropdown">
                    <a href="index.html">Movies</a>
                    <div class="dropdown-menu" id="moviesDropdown">
                        <!-- Categories will be dynamically populated -->
                    </div>
                </div>
                <div class="nav-item-dropdown">
                    <a href="series.html">Series</a>
                    <div class="dropdown-menu" id="seriesDropdown">
                        <!-- Categories will be dynamically populated -->
                    </div>
                </div>
            </nav>
            <div class="header-right">
                <input type="text" id="searchBar" class="search-bar" placeholder="üîç Search movies...">
            </div>
        </div>
        <label class="theme-toggle-switch" aria-label="Toggle theme">
            <input type="checkbox" id="themeToggle">
            <span class="theme-slider"></span>
        </label>
        <a href="checkout/index.html" class="cart-link">
            <span class="cart-text">Cart</span>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="9" cy="21" r="1"></circle>
                <circle cx="20" cy="21" r="1"></circle>
                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
            </svg>
            <span id="cartCount" class="cart-badge">0</span>
        </a>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <h3>Menu</h3>
            <button class="mobile-menu-close" id="mobileMenuClose" aria-label="Close menu">√ó</button>
        </div>
        <div class="mobile-menu-content">
            <div class="mobile-menu-section mobile-menu-cart-section">
                <a href="checkout/index.html" class="mobile-menu-link mobile-menu-cart-link">
                    üõí Cart
                    <span class="mobile-menu-cart-count" id="mobileMenuCartCount">0</span>
                </a>
            </div>
            <div class="mobile-menu-section">
                <a href="index.html" class="mobile-menu-link">Movies</a>
                <div class="mobile-menu-categories" id="mobileMoviesCategories">
                    <!-- Categories will be dynamically populated -->
                </div>
            </div>
            <div class="mobile-menu-section">
                <a href="series.html" class="mobile-menu-link">Series</a>
                <div class="mobile-menu-categories" id="mobileSeriesCategories">
                    <!-- Categories will be dynamically populated -->
                </div>
            </div>
            <div class="mobile-menu-section mobile-menu-settings-section">
                <div class="mobile-menu-link mobile-menu-settings-link">‚öôÔ∏è Settings</div>
            </div>
            <div class="mobile-menu-section mobile-menu-theme-section">
                <button class="mobile-menu-theme-toggle" id="mobileThemeToggle">
                    <span class="mobile-menu-theme-icon">üåô</span>
                    <span class="mobile-menu-theme-text">Dark Mode</span>
                </button>
            </div>
        </div>
    </div>
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>

    <main>
        <section id="movies" class="movies-section">
            <h2>Featured Movies</h2>
            <div class="movies-grid" id="moviesGrid">
                <!-- Movies will be dynamically generated -->
            </div>
        </section>
    </main>

    <aside id="cart" class="cart-sidebar">
        <div class="cart-header">
            <h2>üõí Your Cart</h2>
            <button id="closeCart" class="close-btn">√ó</button>
        </div>
        <div class="cart-items" id="cartItems">
            <p class="empty-cart">Your cart is empty</p>
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total: $<span id="cartTotal">0.00</span></span>
            </div>
            <button id="checkoutBtn" class="checkout-btn" disabled>Checkout</button>
        </div>
    </aside>

    <!-- Movie Detail Modal -->
    <div id="movieModal" class="modal">
        <div class="modal-content">
            <button id="closeModal" class="modal-close">√ó</button>
            <div id="modalBody">
                <!-- Movie details will be dynamically inserted -->
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <p>&copy; 2024 Square Eyes. All rights reserved.</p>
            <div class="social-icons">
                <a href="#" aria-label="Facebook" class="social-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                    </svg>
                </a>
                <a href="#" aria-label="Instagram" class="social-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="2" y="2" width="20" height="20" rx="5" ry="5"/>
                        <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/>
                        <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/>
                    </svg>
                </a>
                <a href="#" aria-label="YouTube" class="social-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                    </svg>
                </a>
            </div>
        </div>
    </footer>

    <script src="theme.js"></script>
    <script src="api.js"></script>
    <script src="script.js"></script>
</body>
</html>

